The ML Kit with Regions version 2.2                July 27, 1998


                           INSTALLING

                    The ML Kit with Regions 

   http://www.diku.dk/research-groups/topps/activities/kit2/index.html


This file describes how to install The ML Kit with Regions version 2.2.

Because you are reading this, you have already succeeded in unpacking
the kit directory, "kit". This directory contains the sources of the
kit (src), the documentation (doc), the standard basis library
(basislib), and accompanying examples (kitdemo). As you install and
use the kit, more sub-directories and files will be created in the
directory "kit". If you want to rename the directory from "kit" to
something else or move it somewhere else, now is the time to do
so. 

1. Installation
-- ------------

To install the ML Kit, you need Standard ML of New Jersey version
110.0.3 (or later). The ML Kit Web site at the top of this file has
links to SML/NJ.  The executable Kit will take up around 8Mb of disc
space. Building it typically takes half an hour or so and is best done
on a machine with at least 64Mb of RAM. You also need to have the UNIX
utilities gmake and gcc installed on your system.
    
Assuming that you have "sml-cm" (SML/NJ with the compilation manager
loaded) available on your system and that you are in the "kit"
directory, type

  cd src/
  sml-cm

Now, write
 
  use "build.sml";

from within the SML/NJ system. You will now be asked whether you want
the ML Kit to generate native machine code (currently available on
only the HPUX-HPPA system) or if you want the Kit to generate C code
to be compiled by gcc. The C backend has been tested on the HPUX-HPPA
system and on the LINUX-X86 system.

The build script will compile the runtime system, a profiling tool
called rp2ps, the ML Kit with Regions compiler, and the Standard ML
Basis Library. When the ML Kit is installed, an executable version of
the Kit is available as "kit" in the "kit/bin" directory.


2. Check whether things are properly configured
-- --------------------------------------------

You can check whether things are properly configured by compiling a
small example. Start the executable kit from within the "kit/kitdemo"
directory; type 0 followed by carriage return (to enter the Project
menu); type 0 (and carriage return); type "hello.pm" (including the
quotes and carriage return); then compile the example by typing 1. When 
the Kit has compiled and linked the project "hello.pm", exit by 
typing q; and the executable "run", which is now located in the
"kitdemo" directory, can be run.

As explained in "Programming with Regions in the ML Kit"
(doc/diku97-12.a4.ps.gz), every user can have her own kit script with
personal preferences (flags to control optimizations, how programs
should be pretty-printed, etc.) The Kit does not force you to use
script files; it will work fine with the default settings. A sample
kit script file "kit.script" is located in the "kitdemo" directory.


3. On other platforms
-- ------------------

On other platforms, you will probably have to modify the runtime
system slightly.  Look in the make file src/Runtime/Version17/Makefile
(it uses gmake facilities). The runtime system uses the system calls
signal and setitimer in the files "Profiling.c", "Runtime.c", and
"Exception.h".  The include files to use may depend on the
architecture.

The Kit calls the gcc compiler to assemble (or compile) and link the
HP PA-RISC (or C) code files it generates. After a few modifications
to the source code, you may well be able to run the Kit on other
systems that has gcc and gmake installed.


4. VCG
-- ---

The VCG tool, which is used to show region flow graphs, can be found at

    http://www.cs.uni-sb.de/RW/users/sander/html/gsvcg1.html


5. Comments and bug reports
-- ------------------------

Please see the www site:

   http://www.diku.dk/research-groups/topps/activities/kit2/index.html


